{"version":3,"sources":["main.js"],"names":["app","PIXI","Application","view","document","getElementById","manifest","explosionTextures","score","loadAssets","loader","add","load","onAssetsLoaded","resources","tex","explosion","textures","push","generateRedMorty","generateScruffyMorty","generateOriginalMorty","ticker","e","update","i","scruffyMorty","Sprite","scruffy","texture","spacing","x","y","randomInt","renderer","height","interactive","on","wrongChoice","stage","addChild","redMorty","red","xOffset","origMorty","morty","Math","random","winner","alert","createExplosion","data","global","exploded","visible","querySelector","innerHTML","setTimeout","startLevel","min","max","floor","removeChildren","boom","extras","AnimatedSprite","animationSpeed","anchor","set","play","loop","window","onload"],"mappings":"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","file":"main.js","sourcesContent":["const app = new PIXI.Application({\n            view: document.getElementById(\"pixiCanvas\")\n});\n\nlet manifest = [\n    {\n        \"key\": \"scruffy\",\n        \"url\": \"dist/img/scruffymorty.png\"\n    },\n    {\n        \"key\": \"morty\",\n        \"url\": \"dist/img/originalmorty.png\"\n    },\n    {\n        \"key\": \"red\",\n        \"url\": \"dist/img/redshirtmorty.png\"\n    },\n    {\n        \"key\": \"explosion\",\n        \"url\": \"dist/img/explosion.json\"\n    },\n]\n\n\nlet explosionTextures = [];\n\nlet score = 0\n\n\nfunction loadAssets(){\n    app.loader.add(manifest)\n    app.loader.load(onAssetsLoaded)\n}\n\nfunction onAssetsLoaded(loader, resources){\n    \n    for (let tex in resources.explosion.textures) {\n        explosionTextures.push(resources.explosion.textures[tex]);\n    }\n\n    generateRedMorty()\n    generateScruffyMorty()\n    generateOriginalMorty()\n\n    app.ticker.add((e) => update(e))\n}\n\nfunction generateScruffyMorty(){\n    for (let i = 0; i < 10; i++){\n        let scruffyMorty = new PIXI.Sprite(app.loader.resources.scruffy.texture)\n        let spacing = 100\n        scruffyMorty.x = spacing * i;\n        scruffyMorty.y = randomInt(1, app.renderer.height - scruffyMorty.height);;\n        scruffyMorty.interactive = true\n        scruffyMorty.on(\"pointerdown\", wrongChoice)\n        app.stage.addChild(scruffyMorty)\n    }\n}\n\n\nfunction generateRedMorty(){\n    for (let i = 0; i < 30; i++){\n        let redMorty = new PIXI.Sprite(app.loader.resources.red.texture)\n        let spacing = 50\n        let xOffset = 10\n        redMorty.x = spacing * i + xOffset;\n        redMorty.y = randomInt(0, app.renderer.height - redMorty.height);\n        redMorty.interactive = true\n        redMorty.on(\"pointerdown\", wrongChoice)\n        app.stage.addChild(redMorty)\n    }\n}\n\nfunction generateOriginalMorty(){\n        let origMorty = new PIXI.Sprite(app.loader.resources.morty.texture)\n        origMorty.x = Math.random() * 600\n        origMorty.y = Math.random() * 400\n        origMorty.interactive = true\n        origMorty.on(\"pointerdown\", winner)\n        app.stage.addChild(origMorty)\n}\n\n\nfunction wrongChoice(e){\n    alert(\"try again!\")\n    createExplosion(e.data.global.x, e.data.global.y)\n    this.exploded = true\n    this.visible = false\n}\n\nfunction winner(e){\n    \n    alert(\"you won!\")\n    score++\n    document.querySelector(`.score`).innerHTML = score\n    setTimeout(startLevel, 500);\n}\n\nfunction randomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nfunction startLevel(){\n    app.stage.removeChildren()\n    app.loader.load(onAssetsLoaded)\n}\n// function checkedForWin(){\n//     for (let i = 0; i < activePenguins.length; i++){\n//         if (!activePenguins[i].exploded){\n//             return\n//         }\n//     }\n\n//     alert(\"you won!\")\n// }\n\n\nfunction createExplosion(x ,y){\n    let boom  = new PIXI.extras.AnimatedSprite(explosionTextures)\n    boom.x = x\n    boom.y = y\n    boom.animationSpeed = 0.3\n    boom.anchor.set(0.5, 0.5)\n    boom.play()\n    boom.loop = false\n    // boom.onComplete = checkedForWin\n    app.stage.addChild(boom)\n}\n\nfunction update(e){\n\n}\n\n\nwindow.onload = function(){\n    \n    loadAssets()\n}"]}